{"ast":null,"code":"/**\n * Rearranges items so that all items in the [left, k] are the smallest.\n * The k-th element will have the (k - left + 1)-th smallest value in [left, right].\n *\n * @template T\n * @param {T[]} arr the array to partially sort (in place)\n * @param {number} k middle index for partial sorting (as defined above)\n * @param {number} [left=0] left index of the range to sort\n * @param {number} [right=arr.length-1] right index\n * @param {(a: T, b: T) => number} [compare = (a, b) => a - b] compare function\n */\nexport default function quickselect(arr, k) {\n  let left = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  let right = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : arr.length - 1;\n  let compare = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : defaultCompare;\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(arr, k, newLeft, newRight, compare);\n    }\n    const t = arr[k];\n    let i = left;\n    /** @type {number} */\n    let j = right;\n    swap(arr, left, k);\n    if (compare(arr[right], t) > 0) swap(arr, left, right);\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (compare(arr[i], t) < 0) i++;\n      while (compare(arr[j], t) > 0) j--;\n    }\n    if (compare(arr[left], t) === 0) swap(arr, left, j);else {\n      j++;\n      swap(arr, j, right);\n    }\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * @template T\n * @param {T[]} arr\n * @param {number} i\n * @param {number} j\n */\nfunction swap(arr, i, j) {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * @template T\n * @param {T} a\n * @param {T} b\n * @returns {number}\n */\nfunction defaultCompare(a, b) {\n  return a < b ? -1 : a > b ? 1 : 0;\n}","map":{"version":3,"names":["quickselect","arr","k","left","arguments","length","undefined","right","compare","defaultCompare","n","m","z","Math","log","s","exp","sd","sqrt","newLeft","max","floor","newRight","min","t","i","j","swap","tmp","a","b"],"sources":["/home/runner/work/Geo-Expert/Geo-Expert/frontend/node_modules/quickselect/index.js"],"sourcesContent":["\n/**\n * Rearranges items so that all items in the [left, k] are the smallest.\n * The k-th element will have the (k - left + 1)-th smallest value in [left, right].\n *\n * @template T\n * @param {T[]} arr the array to partially sort (in place)\n * @param {number} k middle index for partial sorting (as defined above)\n * @param {number} [left=0] left index of the range to sort\n * @param {number} [right=arr.length-1] right index\n * @param {(a: T, b: T) => number} [compare = (a, b) => a - b] compare function\n */\nexport default function quickselect(arr, k, left = 0, right = arr.length - 1, compare = defaultCompare) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            const n = right - left + 1;\n            const m = k - left + 1;\n            const z = Math.log(n);\n            const s = 0.5 * Math.exp(2 * z / 3);\n            const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselect(arr, k, newLeft, newRight, compare);\n        }\n\n        const t = arr[k];\n        let i = left;\n        /** @type {number} */\n        let j = right;\n\n        swap(arr, left, k);\n        if (compare(arr[right], t) > 0) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) i++;\n            while (compare(arr[j], t) > 0) j--;\n        }\n\n        if (compare(arr[left], t) === 0) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\n/**\n * @template T\n * @param {T[]} arr\n * @param {number} i\n * @param {number} j\n */\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\n/**\n * @template T\n * @param {T} a\n * @param {T} b\n * @returns {number}\n */\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}