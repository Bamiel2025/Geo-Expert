{"ast":null,"code":"import _defineProperty from \"/home/runner/work/Geo-Expert/Geo-Expert/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\n/**\n * @module ol/render/canvas/ZIndexContext\n */\n\nimport { getSharedCanvasContext2D } from '../../dom.js';\n\n/** @typedef {CanvasRenderingContext2D & {globalAlpha: any}} ZIndexContextProxy */\n\n/**\n * @extends {CanvasRenderingContext2D}\n */\nclass ZIndexContext {\n  constructor() {\n    var _this = this;\n    /**\n     * @private\n     * @param {...*} args Args.\n     * @return {ZIndexContext} This.\n     */\n    _defineProperty(this, \"pushMethodArgs_\", function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this.push_(args);\n      return _this;\n    });\n    /**\n     * @private\n     * @type {Array<Array<*>>}\n     */\n    this.instructions_ = [];\n    /**\n     * @type {number}\n     */\n    this.zIndex = 0;\n    /**\n     * @private\n     * @type {number}\n     */\n    this.offset_ = 0;\n\n    /**\n     * @private\n     * @type {ZIndexContextProxy}\n     */\n    this.context_ = /** @type {ZIndexContextProxy} */\n    new Proxy(getSharedCanvasContext2D(), {\n      get: (target, property) => {\n        if (typeof (/** @type {*} */getSharedCanvasContext2D()[property]) !== 'function') {\n          // we only accept calling functions on the proxy, not accessing properties\n          return undefined;\n        }\n        this.push_(property);\n        return this.pushMethodArgs_;\n      },\n      set: (target, property, value) => {\n        this.push_(property, value);\n        return true;\n      }\n    });\n  }\n\n  /**\n   * @param {...*} args Arguments to push to the instructions array.\n   * @private\n   */\n  push_() {\n    const instructions = this.instructions_;\n    const index = this.zIndex + this.offset_;\n    if (!instructions[index]) {\n      instructions[index] = [];\n    }\n    instructions[index].push(...arguments);\n  }\n  /**\n   * Push a function that renders to the context directly.\n   * @param {function(CanvasRenderingContext2D): void} render Function.\n   */\n  pushFunction(render) {\n    this.push_(render);\n  }\n\n  /**\n   * Get a proxy for CanvasRenderingContext2D which does not support getting state\n   * (e.g. `context.globalAlpha`, which will return `undefined`). To set state, if it relies on a\n   * previous state (e.g. `context.globalAlpha = context.globalAlpha / 2`), set a function,\n   * e.g. `context.globalAlpha = (context) => context.globalAlpha / 2`.\n   * @return {ZIndexContextProxy} Context.\n   */\n  getContext() {\n    return this.context_;\n  }\n\n  /**\n   * @param {CanvasRenderingContext2D} context Context.\n   */\n  draw(context) {\n    this.instructions_.forEach(instructionsAtIndex => {\n      for (let i = 0, ii = instructionsAtIndex.length; i < ii; ++i) {\n        const property = instructionsAtIndex[i];\n        if (typeof property === 'function') {\n          property(context);\n          continue;\n        }\n        const instructionAtIndex = instructionsAtIndex[++i];\n        if (typeof (/** @type {*} */context[property]) === 'function') {\n          /** @type {*} */context[property](...instructionAtIndex);\n        } else {\n          if (typeof instructionAtIndex === 'function') {\n            /** @type {*} */context[property] = instructionAtIndex(context);\n            continue;\n          }\n          /** @type {*} */\n          context[property] = instructionAtIndex;\n        }\n      }\n    });\n  }\n  clear() {\n    this.instructions_.length = 0;\n    this.zIndex = 0;\n    this.offset_ = 0;\n  }\n\n  /**\n   * Offsets the zIndex by the highest current zIndex. Useful for rendering multiple worlds or tiles, to\n   * avoid conflicting context.clip() or context.save()/restore() calls.\n   */\n  offset() {\n    this.offset_ = this.instructions_.length;\n    this.zIndex = 0;\n  }\n}\nexport default ZIndexContext;","map":{"version":3,"names":["getSharedCanvasContext2D","ZIndexContext","constructor","_this","_defineProperty","_len","arguments","length","args","Array","_key","push_","instructions_","zIndex","offset_","context_","Proxy","get","target","property","undefined","pushMethodArgs_","set","value","instructions","index","push","pushFunction","render","getContext","draw","context","forEach","instructionsAtIndex","i","ii","instructionAtIndex","clear","offset"],"sources":["/home/runner/work/Geo-Expert/Geo-Expert/frontend/node_modules/ol/render/canvas/ZIndexContext.js"],"sourcesContent":["/**\n * @module ol/render/canvas/ZIndexContext\n */\n\nimport {getSharedCanvasContext2D} from '../../dom.js';\n\n/** @typedef {CanvasRenderingContext2D & {globalAlpha: any}} ZIndexContextProxy */\n\n/**\n * @extends {CanvasRenderingContext2D}\n */\nclass ZIndexContext {\n  constructor() {\n    /**\n     * @private\n     * @type {Array<Array<*>>}\n     */\n    this.instructions_ = [];\n    /**\n     * @type {number}\n     */\n    this.zIndex = 0;\n    /**\n     * @private\n     * @type {number}\n     */\n    this.offset_ = 0;\n\n    /**\n     * @private\n     * @type {ZIndexContextProxy}\n     */\n    this.context_ = /** @type {ZIndexContextProxy} */ (\n      new Proxy(getSharedCanvasContext2D(), {\n        get: (target, property) => {\n          if (\n            typeof (/** @type {*} */ (getSharedCanvasContext2D())[property]) !==\n            'function'\n          ) {\n            // we only accept calling functions on the proxy, not accessing properties\n            return undefined;\n          }\n          this.push_(property);\n          return this.pushMethodArgs_;\n        },\n        set: (target, property, value) => {\n          this.push_(property, value);\n          return true;\n        },\n      })\n    );\n  }\n\n  /**\n   * @param {...*} args Arguments to push to the instructions array.\n   * @private\n   */\n  push_(...args) {\n    const instructions = this.instructions_;\n    const index = this.zIndex + this.offset_;\n    if (!instructions[index]) {\n      instructions[index] = [];\n    }\n    instructions[index].push(...args);\n  }\n\n  /**\n   * @private\n   * @param {...*} args Args.\n   * @return {ZIndexContext} This.\n   */\n  pushMethodArgs_ = (...args) => {\n    this.push_(args);\n    return this;\n  };\n\n  /**\n   * Push a function that renders to the context directly.\n   * @param {function(CanvasRenderingContext2D): void} render Function.\n   */\n  pushFunction(render) {\n    this.push_(render);\n  }\n\n  /**\n   * Get a proxy for CanvasRenderingContext2D which does not support getting state\n   * (e.g. `context.globalAlpha`, which will return `undefined`). To set state, if it relies on a\n   * previous state (e.g. `context.globalAlpha = context.globalAlpha / 2`), set a function,\n   * e.g. `context.globalAlpha = (context) => context.globalAlpha / 2`.\n   * @return {ZIndexContextProxy} Context.\n   */\n  getContext() {\n    return this.context_;\n  }\n\n  /**\n   * @param {CanvasRenderingContext2D} context Context.\n   */\n  draw(context) {\n    this.instructions_.forEach((instructionsAtIndex) => {\n      for (let i = 0, ii = instructionsAtIndex.length; i < ii; ++i) {\n        const property = instructionsAtIndex[i];\n        if (typeof property === 'function') {\n          property(context);\n          continue;\n        }\n        const instructionAtIndex = instructionsAtIndex[++i];\n        if (typeof (/** @type {*} */ (context)[property]) === 'function') {\n          /** @type {*} */ (context)[property](...instructionAtIndex);\n        } else {\n          if (typeof instructionAtIndex === 'function') {\n            /** @type {*} */ (context)[property] = instructionAtIndex(context);\n            continue;\n          }\n          /** @type {*} */ (context)[property] = instructionAtIndex;\n        }\n      }\n    });\n  }\n\n  clear() {\n    this.instructions_.length = 0;\n    this.zIndex = 0;\n    this.offset_ = 0;\n  }\n\n  /**\n   * Offsets the zIndex by the highest current zIndex. Useful for rendering multiple worlds or tiles, to\n   * avoid conflicting context.clip() or context.save()/restore() calls.\n   */\n  offset() {\n    this.offset_ = this.instructions_.length;\n    this.zIndex = 0;\n  }\n}\n\nexport default ZIndexContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}