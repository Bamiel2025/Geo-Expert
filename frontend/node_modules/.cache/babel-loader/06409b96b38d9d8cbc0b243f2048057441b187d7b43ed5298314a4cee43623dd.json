{"ast":null,"code":"/**\n * @module ol/source/wms\n */\n\nimport { decode } from '../Image.js';\nimport { getForViewAndSize, getHeight, getWidth } from '../extent.js';\nimport { floor, round } from '../math.js';\nimport { get as getProjection } from '../proj.js';\nimport { compareVersions } from '../string.js';\nimport { appendParams } from '../uri.js';\nimport { getRequestExtent } from './Image.js';\nimport { DECIMALS } from './common.js';\n\n/**\n * Default WMS version.\n * @type {string}\n */\nexport const DEFAULT_VERSION = '1.3.0';\n\n/**\n * @const\n * @type {import(\"../size.js\").Size}\n */\nconst GETFEATUREINFO_IMAGE_SIZE = [101, 101];\n\n/**\n * @api\n * @typedef {'carmentaserver' | 'geoserver' | 'mapserver' | 'qgis'} ServerType\n * Set the server type to use implementation-specific parameters beyond the WMS specification.\n *  - `'carmentaserver'`: HiDPI support for [Carmenta Server](https://www.carmenta.com/en/products/carmenta-server)\n *  - `'geoserver'`: HiDPI support for [GeoServer](https://geoserver.org/)\n *  - `'mapserver'`: HiDPI support for [MapServer](https://mapserver.org/)\n *  - `'qgis'`: HiDPI support for [QGIS](https://qgis.org/)\n */\n\n/**\n * @param {string} baseUrl Base URL.\n * @param {import(\"../extent.js\").Extent} extent Extent.\n * @param {import(\"../size.js\").Size} size Size.\n * @param {import(\"../proj/Projection.js\").default} projection Projection.\n * @param {Object} params WMS params. Will be modified in place.\n * @return {string} Request URL.\n */\nexport function getRequestUrl(baseUrl, extent, size, projection, params) {\n  params['WIDTH'] = size[0];\n  params['HEIGHT'] = size[1];\n  const axisOrientation = projection.getAxisOrientation();\n  const v13 = compareVersions(params['VERSION'], '1.3') >= 0;\n  params[v13 ? 'CRS' : 'SRS'] = projection.getCode();\n  const bbox = v13 && axisOrientation.startsWith('ne') ? [extent[1], extent[0], extent[3], extent[2]] : extent;\n  params['BBOX'] = bbox.join(',');\n  return appendParams(baseUrl, params);\n}\n\n/**\n * @param {import(\"../extent\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio pixel ratio.\n * @param {import(\"../proj.js\").Projection} projection Projection.\n * @param {string} url WMS service url.\n * @param {Object} params WMS params.\n * @param {import(\"./wms.js\").ServerType} serverType The type of the remote WMS server.\n * @return {string} Image src.\n */\nexport function getImageSrc(extent, resolution, pixelRatio, projection, url, params, serverType) {\n  params = Object.assign({\n    REQUEST: 'GetMap'\n  }, params);\n  const imageResolution = resolution / pixelRatio;\n  const imageSize = [round(getWidth(extent) / imageResolution, DECIMALS), round(getHeight(extent) / imageResolution, DECIMALS)];\n  if (pixelRatio != 1) {\n    switch (serverType) {\n      case 'geoserver':\n        const dpi = 90 * pixelRatio + 0.5 | 0;\n        if ('FORMAT_OPTIONS' in params) {\n          params['FORMAT_OPTIONS'] += ';dpi:' + dpi;\n        } else {\n          params['FORMAT_OPTIONS'] = 'dpi:' + dpi;\n        }\n        break;\n      case 'mapserver':\n        params['MAP_RESOLUTION'] = 90 * pixelRatio;\n        break;\n      case 'carmentaserver':\n      case 'qgis':\n        params['DPI'] = 90 * pixelRatio;\n        break;\n      default:\n        throw new Error('Unknown `serverType` configured');\n    }\n  }\n  const src = getRequestUrl(url, extent, imageSize, projection, params);\n  return src;\n}\n\n/**\n * @param {Object} params WMS params.\n * @param {string} request WMS `REQUEST`.\n * @return {Object} WMS params with required properties set.\n */\nexport function getRequestParams(params, request) {\n  return Object.assign({\n    'REQUEST': request,\n    'SERVICE': 'WMS',\n    'VERSION': DEFAULT_VERSION,\n    'FORMAT': 'image/png',\n    'STYLES': '',\n    'TRANSPARENT': 'TRUE'\n  }, params);\n}\n\n/**\n * @typedef {Object} LoaderOptions\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [hidpi=true] Use the `ol/Map#pixelRatio` value when requesting\n * the image from the remote server.\n * @property {Object<string,*>} [params] WMS request parameters.\n * At least a `LAYERS` param is required. `STYLES` is\n * `''` by default. `VERSION` is `1.3.0` by default. `WIDTH`, `HEIGHT` and `BBOX` will be set\n * dynamically. `CRS` (`SRS` for WMS version < 1.3.0) will is derived from the `proection` config.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is 'EPSG:3857'.\n * @property {number} [ratio=1.5] Ratio. `1` means image requests are the size of the map viewport, `2` means\n * twice the width and height of the map viewport, and so on. Must be `1` or higher.\n * @property {import(\"./wms.js\").ServerType} [serverType] The type of\n * the remote WMS server: `mapserver`, `geoserver`, `carmentaserver`, or `qgis`.\n * Only needed if `hidpi` is `true`.\n * @property {string} url WMS service URL.\n * @property {function(HTMLImageElement, string): Promise<import('../DataTile.js').ImageLike>} [load] Function\n * to perform loading of the image. Receives the created `HTMLImageElement` and the desired `src` as argument and\n * returns a promise resolving to the loaded or decoded image. Default is {@link module:ol/Image.decode}.\n */\n\n/**\n * Creates a loader for WMS images.\n * @param {LoaderOptions} options Loader options.\n * @return {import(\"../Image.js\").ImageObjectPromiseLoader} Loader.\n * @api\n */\nexport function createLoader(options) {\n  var _options$crossOrigin;\n  const hidpi = options.hidpi === undefined ? true : options.hidpi;\n  const projection = getProjection(options.projection || 'EPSG:3857');\n  const ratio = options.ratio || 1.5;\n  const load = options.load || decode;\n  const crossOrigin = (_options$crossOrigin = options.crossOrigin) !== null && _options$crossOrigin !== void 0 ? _options$crossOrigin : null;\n  return (extent, resolution, pixelRatio) => {\n    extent = getRequestExtent(extent, resolution, pixelRatio, ratio);\n    if (pixelRatio != 1 && (!hidpi || options.serverType === undefined)) {\n      pixelRatio = 1;\n    }\n    const src = getImageSrc(extent, resolution, pixelRatio, projection, options.url, getRequestParams(options.params, 'GetMap'), options.serverType);\n    const image = new Image();\n    image.crossOrigin = crossOrigin;\n    return load(image, src).then(image => ({\n      image,\n      extent,\n      pixelRatio\n    }));\n  };\n}\n\n/**\n * Get the GetFeatureInfo URL for the passed coordinate and resolution. Returns `undefined` if the\n * GetFeatureInfo URL cannot be constructed.\n * @param {LoaderOptions} options Options passed the `createWMSLoader()` function. In addition to\n * the params required by the loader, `INFO_FORMAT` should be specified, it defaults to\n * `application/json`. If `QUERY_LAYERS` is not provided, then the layers specified in the `LAYERS`\n * parameter will be used.\n * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {number} resolution Resolution.\n * @return {string|undefined} GetFeatureInfo URL.\n * @api\n */\nexport function getFeatureInfoUrl(options, coordinate, resolution) {\n  if (options.url === undefined) {\n    return undefined;\n  }\n  const projectionObj = getProjection(options.projection || 'EPSG:3857');\n  const extent = getForViewAndSize(coordinate, resolution, 0, GETFEATUREINFO_IMAGE_SIZE);\n  const baseParams = {\n    'QUERY_LAYERS': options.params['LAYERS'],\n    'INFO_FORMAT': 'application/json'\n  };\n  Object.assign(baseParams, getRequestParams(options.params, 'GetFeatureInfo'), options.params);\n  const x = floor((coordinate[0] - extent[0]) / resolution, DECIMALS);\n  const y = floor((extent[3] - coordinate[1]) / resolution, DECIMALS);\n  const v13 = compareVersions(baseParams['VERSION'], '1.3') >= 0;\n  baseParams[v13 ? 'I' : 'X'] = x;\n  baseParams[v13 ? 'J' : 'Y'] = y;\n  return getRequestUrl(options.url, extent, GETFEATUREINFO_IMAGE_SIZE, projectionObj, baseParams);\n}\n\n/**\n * Get the GetLegendGraphic URL, optionally optimized for the passed resolution and possibly\n * including any passed specific parameters. Returns `undefined` if the GetLegendGraphic URL\n * cannot be constructed.\n *\n * @param {LoaderOptions} options Options passed the `createWMSLoader()` function.\n * @param {number} [resolution] Resolution. If not provided, `SCALE` will not be calculated and\n * included in URL.\n * @return {string|undefined} GetLegendGraphic URL.\n * @api\n */\nexport function getLegendUrl(options, resolution) {\n  if (options.url === undefined) {\n    return undefined;\n  }\n  const baseParams = {\n    'SERVICE': 'WMS',\n    'VERSION': DEFAULT_VERSION,\n    'REQUEST': 'GetLegendGraphic',\n    'FORMAT': 'image/png'\n  };\n  if (resolution !== undefined) {\n    const mpu = getProjection(options.projection || 'EPSG:3857').getMetersPerUnit() || 1;\n    const pixelSize = 0.00028;\n    baseParams['SCALE'] = resolution * mpu / pixelSize;\n  }\n  Object.assign(baseParams, options.params);\n  if (options.params !== undefined && baseParams['LAYER'] === undefined) {\n    const layers = baseParams['LAYERS'];\n    const isSingleLayer = !Array.isArray(layers) || layers.length !== 1;\n    if (!isSingleLayer) {\n      return undefined;\n    }\n    baseParams['LAYER'] = layers;\n  }\n  return appendParams(options.url, baseParams);\n}","map":{"version":3,"names":["decode","getForViewAndSize","getHeight","getWidth","floor","round","get","getProjection","compareVersions","appendParams","getRequestExtent","DECIMALS","DEFAULT_VERSION","GETFEATUREINFO_IMAGE_SIZE","getRequestUrl","baseUrl","extent","size","projection","params","axisOrientation","getAxisOrientation","v13","getCode","bbox","startsWith","join","getImageSrc","resolution","pixelRatio","url","serverType","Object","assign","REQUEST","imageResolution","imageSize","dpi","Error","src","getRequestParams","request","createLoader","options","_options$crossOrigin","hidpi","undefined","ratio","load","crossOrigin","image","Image","then","getFeatureInfoUrl","coordinate","projectionObj","baseParams","x","y","getLegendUrl","mpu","getMetersPerUnit","pixelSize","layers","isSingleLayer","Array","isArray","length"],"sources":["/home/runner/work/Geo-Expert/Geo-Expert/frontend/node_modules/ol/source/wms.js"],"sourcesContent":["/**\n * @module ol/source/wms\n */\n\nimport {decode} from '../Image.js';\nimport {getForViewAndSize, getHeight, getWidth} from '../extent.js';\nimport {floor, round} from '../math.js';\nimport {get as getProjection} from '../proj.js';\nimport {compareVersions} from '../string.js';\nimport {appendParams} from '../uri.js';\nimport {getRequestExtent} from './Image.js';\nimport {DECIMALS} from './common.js';\n\n/**\n * Default WMS version.\n * @type {string}\n */\nexport const DEFAULT_VERSION = '1.3.0';\n\n/**\n * @const\n * @type {import(\"../size.js\").Size}\n */\nconst GETFEATUREINFO_IMAGE_SIZE = [101, 101];\n\n/**\n * @api\n * @typedef {'carmentaserver' | 'geoserver' | 'mapserver' | 'qgis'} ServerType\n * Set the server type to use implementation-specific parameters beyond the WMS specification.\n *  - `'carmentaserver'`: HiDPI support for [Carmenta Server](https://www.carmenta.com/en/products/carmenta-server)\n *  - `'geoserver'`: HiDPI support for [GeoServer](https://geoserver.org/)\n *  - `'mapserver'`: HiDPI support for [MapServer](https://mapserver.org/)\n *  - `'qgis'`: HiDPI support for [QGIS](https://qgis.org/)\n */\n\n/**\n * @param {string} baseUrl Base URL.\n * @param {import(\"../extent.js\").Extent} extent Extent.\n * @param {import(\"../size.js\").Size} size Size.\n * @param {import(\"../proj/Projection.js\").default} projection Projection.\n * @param {Object} params WMS params. Will be modified in place.\n * @return {string} Request URL.\n */\nexport function getRequestUrl(baseUrl, extent, size, projection, params) {\n  params['WIDTH'] = size[0];\n  params['HEIGHT'] = size[1];\n\n  const axisOrientation = projection.getAxisOrientation();\n  const v13 = compareVersions(params['VERSION'], '1.3') >= 0;\n  params[v13 ? 'CRS' : 'SRS'] = projection.getCode();\n  const bbox =\n    v13 && axisOrientation.startsWith('ne')\n      ? [extent[1], extent[0], extent[3], extent[2]]\n      : extent;\n  params['BBOX'] = bbox.join(',');\n\n  return appendParams(baseUrl, params);\n}\n\n/**\n * @param {import(\"../extent\").Extent} extent Extent.\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio pixel ratio.\n * @param {import(\"../proj.js\").Projection} projection Projection.\n * @param {string} url WMS service url.\n * @param {Object} params WMS params.\n * @param {import(\"./wms.js\").ServerType} serverType The type of the remote WMS server.\n * @return {string} Image src.\n */\nexport function getImageSrc(\n  extent,\n  resolution,\n  pixelRatio,\n  projection,\n  url,\n  params,\n  serverType,\n) {\n  params = Object.assign({REQUEST: 'GetMap'}, params);\n\n  const imageResolution = resolution / pixelRatio;\n\n  const imageSize = [\n    round(getWidth(extent) / imageResolution, DECIMALS),\n    round(getHeight(extent) / imageResolution, DECIMALS),\n  ];\n\n  if (pixelRatio != 1) {\n    switch (serverType) {\n      case 'geoserver':\n        const dpi = (90 * pixelRatio + 0.5) | 0;\n        if ('FORMAT_OPTIONS' in params) {\n          params['FORMAT_OPTIONS'] += ';dpi:' + dpi;\n        } else {\n          params['FORMAT_OPTIONS'] = 'dpi:' + dpi;\n        }\n        break;\n      case 'mapserver':\n        params['MAP_RESOLUTION'] = 90 * pixelRatio;\n        break;\n      case 'carmentaserver':\n      case 'qgis':\n        params['DPI'] = 90 * pixelRatio;\n        break;\n      default:\n        throw new Error('Unknown `serverType` configured');\n    }\n  }\n\n  const src = getRequestUrl(url, extent, imageSize, projection, params);\n  return src;\n}\n\n/**\n * @param {Object} params WMS params.\n * @param {string} request WMS `REQUEST`.\n * @return {Object} WMS params with required properties set.\n */\nexport function getRequestParams(params, request) {\n  return Object.assign(\n    {\n      'REQUEST': request,\n      'SERVICE': 'WMS',\n      'VERSION': DEFAULT_VERSION,\n      'FORMAT': 'image/png',\n      'STYLES': '',\n      'TRANSPARENT': 'TRUE',\n    },\n    params,\n  );\n}\n\n/**\n * @typedef {Object} LoaderOptions\n * @property {null|string} [crossOrigin] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [hidpi=true] Use the `ol/Map#pixelRatio` value when requesting\n * the image from the remote server.\n * @property {Object<string,*>} [params] WMS request parameters.\n * At least a `LAYERS` param is required. `STYLES` is\n * `''` by default. `VERSION` is `1.3.0` by default. `WIDTH`, `HEIGHT` and `BBOX` will be set\n * dynamically. `CRS` (`SRS` for WMS version < 1.3.0) will is derived from the `proection` config.\n * @property {import(\"../proj.js\").ProjectionLike} [projection] Projection. Default is 'EPSG:3857'.\n * @property {number} [ratio=1.5] Ratio. `1` means image requests are the size of the map viewport, `2` means\n * twice the width and height of the map viewport, and so on. Must be `1` or higher.\n * @property {import(\"./wms.js\").ServerType} [serverType] The type of\n * the remote WMS server: `mapserver`, `geoserver`, `carmentaserver`, or `qgis`.\n * Only needed if `hidpi` is `true`.\n * @property {string} url WMS service URL.\n * @property {function(HTMLImageElement, string): Promise<import('../DataTile.js').ImageLike>} [load] Function\n * to perform loading of the image. Receives the created `HTMLImageElement` and the desired `src` as argument and\n * returns a promise resolving to the loaded or decoded image. Default is {@link module:ol/Image.decode}.\n */\n\n/**\n * Creates a loader for WMS images.\n * @param {LoaderOptions} options Loader options.\n * @return {import(\"../Image.js\").ImageObjectPromiseLoader} Loader.\n * @api\n */\nexport function createLoader(options) {\n  const hidpi = options.hidpi === undefined ? true : options.hidpi;\n  const projection = getProjection(options.projection || 'EPSG:3857');\n  const ratio = options.ratio || 1.5;\n  const load = options.load || decode;\n  const crossOrigin = options.crossOrigin ?? null;\n\n  return (extent, resolution, pixelRatio) => {\n    extent = getRequestExtent(extent, resolution, pixelRatio, ratio);\n    if (pixelRatio != 1 && (!hidpi || options.serverType === undefined)) {\n      pixelRatio = 1;\n    }\n    const src = getImageSrc(\n      extent,\n      resolution,\n      pixelRatio,\n      projection,\n      options.url,\n      getRequestParams(options.params, 'GetMap'),\n      options.serverType,\n    );\n    const image = new Image();\n    image.crossOrigin = crossOrigin;\n    return load(image, src).then((image) => ({image, extent, pixelRatio}));\n  };\n}\n\n/**\n * Get the GetFeatureInfo URL for the passed coordinate and resolution. Returns `undefined` if the\n * GetFeatureInfo URL cannot be constructed.\n * @param {LoaderOptions} options Options passed the `createWMSLoader()` function. In addition to\n * the params required by the loader, `INFO_FORMAT` should be specified, it defaults to\n * `application/json`. If `QUERY_LAYERS` is not provided, then the layers specified in the `LAYERS`\n * parameter will be used.\n * @param {import(\"../coordinate.js\").Coordinate} coordinate Coordinate.\n * @param {number} resolution Resolution.\n * @return {string|undefined} GetFeatureInfo URL.\n * @api\n */\nexport function getFeatureInfoUrl(options, coordinate, resolution) {\n  if (options.url === undefined) {\n    return undefined;\n  }\n\n  const projectionObj = getProjection(options.projection || 'EPSG:3857');\n\n  const extent = getForViewAndSize(\n    coordinate,\n    resolution,\n    0,\n    GETFEATUREINFO_IMAGE_SIZE,\n  );\n\n  const baseParams = {\n    'QUERY_LAYERS': options.params['LAYERS'],\n    'INFO_FORMAT': 'application/json',\n  };\n  Object.assign(\n    baseParams,\n    getRequestParams(options.params, 'GetFeatureInfo'),\n    options.params,\n  );\n\n  const x = floor((coordinate[0] - extent[0]) / resolution, DECIMALS);\n  const y = floor((extent[3] - coordinate[1]) / resolution, DECIMALS);\n  const v13 = compareVersions(baseParams['VERSION'], '1.3') >= 0;\n  baseParams[v13 ? 'I' : 'X'] = x;\n  baseParams[v13 ? 'J' : 'Y'] = y;\n\n  return getRequestUrl(\n    options.url,\n    extent,\n    GETFEATUREINFO_IMAGE_SIZE,\n    projectionObj,\n    baseParams,\n  );\n}\n\n/**\n * Get the GetLegendGraphic URL, optionally optimized for the passed resolution and possibly\n * including any passed specific parameters. Returns `undefined` if the GetLegendGraphic URL\n * cannot be constructed.\n *\n * @param {LoaderOptions} options Options passed the `createWMSLoader()` function.\n * @param {number} [resolution] Resolution. If not provided, `SCALE` will not be calculated and\n * included in URL.\n * @return {string|undefined} GetLegendGraphic URL.\n * @api\n */\nexport function getLegendUrl(options, resolution) {\n  if (options.url === undefined) {\n    return undefined;\n  }\n\n  const baseParams = {\n    'SERVICE': 'WMS',\n    'VERSION': DEFAULT_VERSION,\n    'REQUEST': 'GetLegendGraphic',\n    'FORMAT': 'image/png',\n  };\n\n  if (resolution !== undefined) {\n    const mpu =\n      getProjection(options.projection || 'EPSG:3857').getMetersPerUnit() || 1;\n    const pixelSize = 0.00028;\n    baseParams['SCALE'] = (resolution * mpu) / pixelSize;\n  }\n\n  Object.assign(baseParams, options.params);\n\n  if (options.params !== undefined && baseParams['LAYER'] === undefined) {\n    const layers = baseParams['LAYERS'];\n    const isSingleLayer = !Array.isArray(layers) || layers.length !== 1;\n    if (!isSingleLayer) {\n      return undefined;\n    }\n    baseParams['LAYER'] = layers;\n  }\n\n  return appendParams(options.url, baseParams);\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}